@let todoTasks = (this._taskService.todoTasks | async) ?? [];
@let doingTasks = (this._taskService.doingTasks | async) ?? [];
@let doneTasks = (this._taskService.doneTasks | async) ?? [];

<div class="scrollbar-hidden mb-6 flex overflow-x-auto p-3">
  <!-- A fazer -->
  <div
    cdkDropList
    #todoListCdkDropList="cdkDropList"
    [cdkDropListData]="todoTasks"
    [cdkDropListConnectedTo]="[doingListCdkDropList, doneListCdkDropList]"
    (cdkDropListDropped)="onCardDrop($event)"
    id="todo-column"
    class="flex min-w-60 flex-col gap-6 px-6 py-3"
  >
    <div class="flex items-center gap-1 border-b border-[#d1d5db] py-2">
      <h1 class="font-bold">A fazer</h1>
      <span class="rounded-xl bg-black px-2 py-1 text-xs font-semibold text-white">1</span>
    </div>
    <div class="flex flex-col gap-4">
      @for (todoTask of todoTasks; track todoTask.id) {
        <app-task-card cdkDrag [cdkDragData]="todoTask" />
      }
    </div>
  </div>

  <!-- Fazendo -->
  <div
    cdkDropList
    #doingListCdkDropList="cdkDropList"
    [cdkDropListData]="doingTasks"
    [cdkDropListConnectedTo]="[todoListCdkDropList, doneListCdkDropList]"
    (cdkDropListDropped)="onCardDrop($event)"
    id="doing-column"
    class="flex min-w-60 flex-col gap-6 px-6 py-3"
  >
    <div class="flex items-center gap-1 border-b border-[#d1d5db] py-2">
      <h1 class="font-bold">Fazendo</h1>
      <span class="rounded-xl bg-[#ff850a] px-2 py-1 text-xs font-semibold text-white">1</span>
    </div>
    <div class="flex flex-col gap-4">
      @for (doingTask of doingTasks; track doingTask.id) {
        <app-task-card cdkDrag  [cdkDragData]="doingTask" />
      }
    </div>
  </div>

  <!-- Concluído -->
  <div
    cdkDropList
    #doneListCdkDropList="cdkDropList"
    [cdkDropListData]="doneTasks"
    [cdkDropListConnectedTo]="[todoListCdkDropList, doingListCdkDropList]"
    (cdkDropListDropped)="onCardDrop($event)"
    id="done-column"
    class="flex min-w-60 flex-col gap-6 px-6 py-3"
  >
    <div class="flex items-center gap-1 border-b border-[#d1d5db] py-2">
      <h1 class="font-bold">Fazendo</h1>
      <span class="rounded-xl bg-[#15be78] px-2 py-1 text-xs font-semibold text-white">1</span>
    </div>
    <div class="flex flex-col gap-4">
      @for (doneTask of doneTasks; track doneTask.id) {
        <app-task-card cdkDrag [cdkDragData]="doneTask" />
      }
    </div>
  </div>
</div>

<div class="rounded-sm border-l-4 border-black bg-[#fafafa] px-5 py-3">
  <p class="text-lg font-semibold text-[#9ca3af]">Nenhuma tarefa disponível no momento</p>
</div>
